<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36" version="24.8.4">
  <diagram name="Page-1" id="HvNkiTkuBKe4hsEYgWnx">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420.05555555555554" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-2" value="&lt;u style=&quot;font-size: 30px;&quot;&gt;&lt;b style=&quot;font-size: 30px;&quot;&gt;&lt;i style=&quot;font-size: 30px;&quot;&gt;get_next_line&lt;/i&gt;&lt;/b&gt;&lt;/u&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#FFFFFF;fillColor=#67AB9F;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="305" y="60" width="230" height="150" as="geometry" />
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420.05555555555554" y="309.8888888888889" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-5" target="GS4lf-iJEKP6Q8-Omp77-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420.05555555555554" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-5" value="send the fd to the function" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF8000;" vertex="1" parent="1">
          <mxGeometry x="360" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-13" target="GS4lf-iJEKP6Q8-Omp77-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="480" as="targetPoint" />
            <Array as="points">
              <mxPoint x="420" y="460" />
              <mxPoint x="641" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-13" target="GS4lf-iJEKP6Q8-Omp77-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="460" />
              <mxPoint y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-13" value="check the &lt;b&gt;buffer&lt;/b&gt; if contains a new line for the second time we call the function" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF8000;" vertex="1" parent="1">
          <mxGeometry x="360.06" y="370" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-15" value="&lt;i&gt;if yes&lt;/i&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=26;" vertex="1" parent="1">
          <mxGeometry x="-15" y="415" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-16" value="if there&#39;s a new&amp;nbsp;&lt;b&gt;line&lt;/b&gt;&lt;div&gt;then&amp;nbsp;&lt;u&gt;allocate&lt;/u&gt;&amp;nbsp;a string using&amp;nbsp;&lt;u&gt;substr&lt;/u&gt;&amp;nbsp;to copy the&amp;nbsp;&lt;b&gt;line&lt;/b&gt;&amp;nbsp;from the first character in the&amp;nbsp;&lt;b&gt;buffer&lt;/b&gt;&amp;nbsp;until the new line&lt;/div&gt;&lt;div&gt;to the new string that you&amp;nbsp;&lt;u&gt;allocate,&lt;/u&gt;&lt;/div&gt;&lt;div&gt;then delete that&amp;nbsp;&lt;b&gt;line&lt;/b&gt;&amp;nbsp;from the&amp;nbsp;&lt;b&gt;buffer&lt;/b&gt;&amp;nbsp;by creating a new&amp;nbsp;&lt;b&gt;buffer&lt;/b&gt;&amp;nbsp;using&amp;nbsp;&lt;u&gt;strdup&lt;/u&gt;&amp;nbsp;starting from the next character after the new line, and free the previous&amp;nbsp;&lt;b&gt;buffer&lt;/b&gt;,&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;" vertex="1" parent="1">
          <mxGeometry x="-110" y="570" width="220" height="200" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-20" target="UqReDh9th8tIPyzRoxZQ-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-20" target="UqReDh9th8tIPyzRoxZQ-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="640" y="640" />
              <mxPoint x="960" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-20" value="read from the file using read function&lt;div&gt;and put the bytes that you read in the &lt;b&gt;buffer_1&lt;/b&gt; followin by null-terminator&lt;/div&gt;&lt;div&gt;and check for the &lt;b&gt;read_reaturn&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0066CC;" vertex="1" parent="1">
          <mxGeometry x="580" y="480" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GS4lf-iJEKP6Q8-Omp77-21" value="&lt;i&gt;if no&lt;/i&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=26;" vertex="1" parent="1">
          <mxGeometry x="590" y="415" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="UqReDh9th8tIPyzRoxZQ-3" target="UqReDh9th8tIPyzRoxZQ-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1020" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-3" value="&lt;b&gt;read_return&lt;/b&gt; = -1&lt;div&gt;(read function can&#39;t read the file)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="900" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="UqReDh9th8tIPyzRoxZQ-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-5" value="&lt;b&gt;read_return = 0&lt;/b&gt;&lt;div&gt;&lt;b&gt;(and of file)&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4D4D4D;" vertex="1" parent="1">
          <mxGeometry x="580" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-8" value="&lt;div&gt;free all the allocated memory in the heap&lt;/div&gt;&lt;div&gt;and return NULL&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="900" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-9" value="check if there&#39;s any characters in the &lt;b&gt;buffer&lt;/b&gt;&lt;div&gt;if yes return it,&lt;/div&gt;&lt;div&gt;else return &lt;u&gt;NULL&lt;/u&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4D4D4D;" vertex="1" parent="1">
          <mxGeometry x="580" y="800" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GS4lf-iJEKP6Q8-Omp77-20" target="UqReDh9th8tIPyzRoxZQ-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="320" y="690" as="targetPoint" />
            <mxPoint x="580" y="560" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="640" y="640" />
              <mxPoint x="320" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="UqReDh9th8tIPyzRoxZQ-13" target="UqReDh9th8tIPyzRoxZQ-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-13" value="&lt;b&gt;read_return&lt;/b&gt; = &lt;b&gt;BUFFER_SIZE&lt;/b&gt;&lt;div&gt;means that the read function read the &lt;b&gt;BUFFER_SIZE&lt;/b&gt; bytes&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CCFFCC;" vertex="1" parent="1">
          <mxGeometry x="260" y="680" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="UqReDh9th8tIPyzRoxZQ-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="1040" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320" y="960" />
              <mxPoint x="641" y="960" />
              <mxPoint x="641" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="UqReDh9th8tIPyzRoxZQ-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-80" y="1040" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320" y="960" />
              <mxPoint x="-79" y="960" />
              <mxPoint x="-79" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-15" value="join &lt;b&gt;buffer_1&lt;/b&gt; with &lt;b&gt;buffer&lt;/b&gt;&lt;div&gt;and free the previous &lt;b&gt;buffer&lt;/b&gt; value&lt;/div&gt;&lt;div&gt;then check for new line&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CCFFCC;" vertex="1" parent="1">
          <mxGeometry x="260" y="840" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-18" value="if there&#39;s a new &lt;b&gt;line&lt;/b&gt;&lt;div&gt;then &lt;u style=&quot;&quot;&gt;allocate&lt;/u&gt; a string using &lt;u&gt;substr&lt;/u&gt; to copy the &lt;b&gt;line&lt;/b&gt; from the first character in the &lt;b&gt;buffer&lt;/b&gt; until the new line&lt;/div&gt;&lt;div&gt;to the new string that you &lt;u&gt;allocate,&lt;/u&gt;&lt;/div&gt;&lt;div&gt;then delete that &lt;b&gt;line&lt;/b&gt; from the &lt;b&gt;buffer&lt;/b&gt; by creating a new &lt;b&gt;buffer&lt;/b&gt; using &lt;u&gt;strdup&lt;/u&gt; starting from the next character after the new line, and free the previous &lt;b&gt;buffer&lt;/b&gt;,&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;" vertex="1" parent="1">
          <mxGeometry x="550" y="1040" width="180" height="200" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-22" value="if the &lt;b&gt;buffer&lt;/b&gt; does&#39;nt contain any new line then repet from the blue block" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6600CC;" vertex="1" parent="1">
          <mxGeometry x="-140" y="1040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-25" value="&lt;i style=&quot;font-weight: normal;&quot;&gt;the blue block should&lt;/i&gt;&lt;div&gt;&lt;i style=&quot;font-weight: normal;&quot;&gt;be inside a loop&lt;/i&gt;&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#181266;" vertex="1" parent="1">
          <mxGeometry x="-225" y="110" width="290" height="130" as="geometry" />
        </mxCell>
        <mxCell id="UqReDh9th8tIPyzRoxZQ-27" value="&lt;b&gt;&lt;span style=&quot;font-size: 20px; text-wrap-mode: nowrap;&quot;&gt;prototype : char&lt;/span&gt;&lt;span style=&quot;font-size: 20px; white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;font-size: 20px; text-wrap-mode: nowrap;&quot;&gt;*get_next_line(int fd);&lt;/span&gt;&lt;/b&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="-250" y="30" width="410" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
